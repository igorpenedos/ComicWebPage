{"version":3,"sources":["App.js","index.js"],"names":["Comic","props","newurl","useState","number","Num","setNum","Data","setData","useEffect","document","getElementById","value","a","axios","get","params","getData","setNewURL","num","window","location","protocol","host","pathname","history","pushState","path","type","placeholder","id","onClick","e","preventDefault","console","log","data","newNum","parseInt","Number","isInteger","alert","Math","floor","random","src","img","alt","transcript","Info","month","Date","toLocaleString","title","safe_title","day","year","Transcript","isOpen","setIsOpen","split","className","map","temp","Boolean","App","query","search","URLSearchParams","has","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.52ec9356.chunk.js","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport './App.css';\nimport axios from 'axios';\n\nfunction App() {\n  const query = window.location.search;\n  const params = new URLSearchParams(query);\n  let number = 1;\n\n  if (params.has('n')){\n    number = params.get('n');\n  }else{\n    number = 1;\n  }\n  \n  return (\n    <>\n      <nav>\n       <p id=\"navTitle\">Comic Viewer</p>\n       <p id=\"navName\">By: Igor Goncalves Penedos</p>\n      </nav>\n      <div id=\"body\">\n        <Comic number={number}/>\n      </div>\n    </>\n  );\n}\n\nconst Comic = (props) => { \n  const [Num, setNum] = useState(props.number);\n  const [Data, setData] = useState('');\n  var newurl;\n\n  useEffect(() =>{\n    document.getElementById('number').value = '';\n    const getData = async () => {setData(await axios.get('http://localhost:4000/getData', {params:{Num}}))};\n    getData();\n  }, [Num]);\n\n  const setNewURL = (num) => {\n    newurl = window.location.protocol + \"//\" + window.location.host + window.location.pathname + '?n=' + num;\n    window.history.pushState({path:newurl},'',newurl);\n  }\n\n  const previous = (e) => {\n    e.preventDefault();\n    if ((Num - 1) < 1){\n      setNewURL(2475);\n      setNum(2475);\n    }else{\n      setNewURL(parseInt(Num) - 1);\n      setNum(parseInt(Num) - 1);\n    }\n  };\n\n  const next = (e) => {\n    e.preventDefault();\n    if ((Num + 1) > 2475){\n      setNewURL(1);\n      setNum(1);\n    }else{\n      setNewURL(parseInt(Num) + 1);\n      setNum(parseInt(Num) + 1);\n    }\n  }; \n\n  const search = (e) => {\n    e.preventDefault();\n    console.log(Data.data)\n    const newNum = parseInt(document.getElementById('number').value);\n    if (Number.isInteger(newNum) && 0 < newNum && newNum < 2476){\n      setNewURL(newNum);\n      setNum(newNum);\n    }else{\n      document.getElementById('number').value = '';\n      document.getElementById('number').placeholder = Num;\n      alert(newNum + ' is not a NUMBER between 1 and 2475');\n    }\n  }\n\n  const randomNum = (e) => {\n    e.preventDefault();\n    const newNum = Math.floor(Math.random() * 2476);\n    setNewURL(newNum);\n    setNum(newNum);\n  }\n\n  return <>\n    <input type=\"text\" placeholder={Num} id=\"number\"/>\n    <input type=\"button\" value=\"Search\" onClick={search} id=\"search\"/>\n    <input type=\"button\" value=\"Random\" onClick={randomNum} id=\"random\"/>\n    {Data.data ? <Info data={Data.data}/>:null}\n    <div id=\"comic\">\n      <span id=\"previous\" onClick={previous}></span>\n      <img src={Data.data ? Data.data.img : '' } alt=\"Comic\" id=\"comicImg\"/>\n      <span id=\"next\" onClick={next}></span>\n    </div>\n    <Transcript transcript={Data.data ? Data.data.transcript : null} alt={Data.data ? Data.data.alt : null}/>\n  </>\n}\n\nconst Info = (props) => {\n  const data = props.data;\n  let date = new Date(2020, data.month - 1, 21);\n  let month = date.toLocaleString('en-us', { month: 'long' });\n\n  return <>\n    {data \n    ?<><div id=\"title\"># {data.num}: {data.title || data.safe_title}</div><div id=\"date\">Created: {month} {data.day}, {data.year}</div></>\n    :null}\n  </>\n}\n\nconst Transcript = (props) => {\n  const data = props;\n  const alt = props.alt;\n  const [isOpen ,setIsOpen] = useState(false);\n  let transcript;\n  data.transcript ? transcript = data.transcript.split('\\n') : transcript = '';\n  const changeOpen = () => {\n    setIsOpen(!isOpen)\n  }\n\n  return<>\n    <input className=\"transcript btnTranscript\" type=\"button\" value=\"Transcript\" onClick={changeOpen}/>\n    {isOpen && transcript\n    ? transcript.map(temp =>{\n      return <p className=\"transcript\">{temp}</p>\n    })\n    : null}\n    {isOpen && alt && ! Boolean(transcript) ? <p className=\"transcript\">{alt}</p> : null}\n  </>\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}