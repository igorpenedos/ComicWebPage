{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Igor Penedos/Documents/GitHub/ComicWebPage/comic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/Igor Penedos/Documents/GitHub/ComicWebPage/comic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/Igor Penedos/Documents/GitHub/ComicWebPage/comic/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import'./App.css';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function App(){var query=window.location.search;var params=new URLSearchParams(query);var number=1;if(params.has('n')){number=params.get('n');}else{number=1;}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"nav\",{children:[/*#__PURE__*/_jsx(\"p\",{id:\"navTitle\",children:\"Comic Viewer\"}),/*#__PURE__*/_jsx(\"p\",{id:\"navName\",children:\"By: Igor Goncalves Penedos\"})]}),/*#__PURE__*/_jsx(\"div\",{id:\"body\",children:/*#__PURE__*/_jsx(Comic,{number:number})})]});}var Comic=function Comic(props){var _useState=useState(props.number),_useState2=_slicedToArray(_useState,2),Num=_useState2[0],setNum=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),Data=_useState4[0],setData=_useState4[1];var newurl;useEffect(function(){document.getElementById('number').value='';var getData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.t0=setData;_context.next=3;return axios.get('http://localhost:4000/getData',{params:{Num:Num}});case 3:_context.t1=_context.sent;(0,_context.t0)(_context.t1);case 5:case\"end\":return _context.stop();}}},_callee);}));return function getData(){return _ref.apply(this,arguments);};}();getData();},[Num]);var setNewURL=function setNewURL(num){newurl=window.location.protocol+\"//\"+window.location.host+window.location.pathname+'?n='+num;window.history.pushState({path:newurl},'',newurl);};var previous=function previous(e){e.preventDefault();if(Num-1<1){setNewURL(2475);setNum(2475);}else{setNewURL(parseInt(Num)-1);setNum(parseInt(Num)-1);}};var next=function next(e){e.preventDefault();if(Num+1>2475){setNewURL(1);setNum(1);}else{setNewURL(parseInt(Num)+1);setNum(parseInt(Num)+1);}};var search=function search(e){e.preventDefault();console.log(Data.data);var newNum=parseInt(document.getElementById('number').value);if(Number.isInteger(newNum)&&0<newNum&&newNum<2476){setNewURL(newNum);setNum(newNum);}else{document.getElementById('number').value='';document.getElementById('number').placeholder=Num;alert(newNum+' is not a NUMBER between 1 and 2475');}};var randomNum=function randomNum(e){e.preventDefault();var newNum=Math.floor(Math.random()*2476);setNewURL(newNum);setNum(newNum);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:Num,id:\"number\"}),/*#__PURE__*/_jsx(\"input\",{type:\"button\",value:\"Search\",onClick:search,id:\"search\"}),/*#__PURE__*/_jsx(\"input\",{type:\"button\",value:\"Random\",onClick:randomNum,id:\"random\"}),Data.data?/*#__PURE__*/_jsx(Info,{data:Data.data}):null,/*#__PURE__*/_jsxs(\"div\",{id:\"comic\",children:[/*#__PURE__*/_jsx(\"span\",{id:\"previous\",onClick:previous}),/*#__PURE__*/_jsx(\"img\",{src:Data.data?Data.data.img:'',alt:\"Comic\",id:\"comicImg\"}),/*#__PURE__*/_jsx(\"span\",{id:\"next\",onClick:next})]}),/*#__PURE__*/_jsx(Transcript,{transcript:Data.data?Data.data.transcript:null,alt:Data.data?Data.data.alt:null})]});};var Info=function Info(props){var data=props.data;var date=new Date(2020,data.month-1,21);var month=date.toLocaleString('en-us',{month:'long'});return/*#__PURE__*/_jsx(_Fragment,{children:data?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{id:\"title\",children:[\"# \",data.num,\": \",data.title||data.safe_title]}),/*#__PURE__*/_jsxs(\"div\",{id:\"date\",children:[\"Created: \",month,\" \",data.day,\", \",data.year]})]}):null});};var Transcript=function Transcript(props){var data=props;var alt=props.alt;var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isOpen=_useState6[0],setIsOpen=_useState6[1];var transcript;data.transcript?transcript=data.transcript.split('\\n'):transcript='';var changeOpen=function changeOpen(){setIsOpen(!isOpen);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{className:\"transcript btnTranscript\",type:\"button\",value:\"Transcript\",onClick:changeOpen}),isOpen&&transcript?transcript.map(function(temp){return/*#__PURE__*/_jsx(\"p\",{className:\"transcript\",children:temp});}):null,isOpen&&alt&&!Boolean(transcript)?/*#__PURE__*/_jsx(\"p\",{className:\"transcript\",children:alt}):null]});};export default App;","map":{"version":3,"sources":["C:/Users/Igor Penedos/Documents/GitHub/ComicWebPage/comic/src/App.js"],"names":["React","useState","useEffect","axios","App","query","window","location","search","params","URLSearchParams","number","has","get","Comic","props","Num","setNum","Data","setData","newurl","document","getElementById","value","getData","setNewURL","num","protocol","host","pathname","history","pushState","path","previous","e","preventDefault","parseInt","next","console","log","data","newNum","Number","isInteger","placeholder","alert","randomNum","Math","floor","random","img","transcript","alt","Info","date","Date","month","toLocaleString","title","safe_title","day","year","Transcript","isOpen","setIsOpen","split","changeOpen","map","temp","Boolean"],"mappings":"6gBAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,SAAzB,KAAyC,OAAzC,CACA,MAAO,WAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,6IAEA,QAASC,CAAAA,GAAT,EAAe,CACb,GAAMC,CAAAA,KAAK,CAAGC,MAAM,CAACC,QAAP,CAAgBC,MAA9B,CACA,GAAMC,CAAAA,MAAM,CAAG,GAAIC,CAAAA,eAAJ,CAAoBL,KAApB,CAAf,CACA,GAAIM,CAAAA,MAAM,CAAG,CAAb,CAEA,GAAIF,MAAM,CAACG,GAAP,CAAW,GAAX,CAAJ,CAAoB,CAClBD,MAAM,CAAGF,MAAM,CAACI,GAAP,CAAW,GAAX,CAAT,CACD,CAFD,IAEK,CACHF,MAAM,CAAG,CAAT,CACD,CAED,mBACE,wCACE,oCACC,UAAG,EAAE,CAAC,UAAN,0BADD,cAEC,UAAG,EAAE,CAAC,SAAN,wCAFD,GADF,cAKE,YAAK,EAAE,CAAC,MAAR,uBACE,KAAC,KAAD,EAAO,MAAM,CAAEA,MAAf,EADF,EALF,GADF,CAWD,CAED,GAAMG,CAAAA,KAAK,CAAG,QAARA,CAAAA,KAAQ,CAACC,KAAD,CAAW,CACvB,cAAsBd,QAAQ,CAACc,KAAK,CAACJ,MAAP,CAA9B,wCAAOK,GAAP,eAAYC,MAAZ,eACA,eAAwBhB,QAAQ,CAAC,EAAD,CAAhC,yCAAOiB,IAAP,eAAaC,OAAb,eACA,GAAIC,CAAAA,MAAJ,CAEAlB,SAAS,CAAC,UAAK,CACbmB,QAAQ,CAACC,cAAT,CAAwB,QAAxB,EAAkCC,KAAlC,CAA0C,EAA1C,CACA,GAAMC,CAAAA,OAAO,0FAAG,+IAAaL,OAAb,uBAA2BhB,CAAAA,KAAK,CAACU,GAAN,CAAU,+BAAV,CAA2C,CAACJ,MAAM,CAAC,CAACO,GAAG,CAAHA,GAAD,CAAR,CAA3C,CAA3B,qHAAH,kBAAPQ,CAAAA,OAAO,0CAAb,CACAA,OAAO,GACR,CAJQ,CAIN,CAACR,GAAD,CAJM,CAAT,CAMA,GAAMS,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACC,GAAD,CAAS,CACzBN,MAAM,CAAGd,MAAM,CAACC,QAAP,CAAgBoB,QAAhB,CAA2B,IAA3B,CAAkCrB,MAAM,CAACC,QAAP,CAAgBqB,IAAlD,CAAyDtB,MAAM,CAACC,QAAP,CAAgBsB,QAAzE,CAAoF,KAApF,CAA4FH,GAArG,CACApB,MAAM,CAACwB,OAAP,CAAeC,SAAf,CAAyB,CAACC,IAAI,CAACZ,MAAN,CAAzB,CAAuC,EAAvC,CAA0CA,MAA1C,EACD,CAHD,CAKA,GAAMa,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAACC,CAAD,CAAO,CACtBA,CAAC,CAACC,cAAF,GACA,GAAKnB,GAAG,CAAG,CAAP,CAAY,CAAhB,CAAkB,CAChBS,SAAS,CAAC,IAAD,CAAT,CACAR,MAAM,CAAC,IAAD,CAAN,CACD,CAHD,IAGK,CACHQ,SAAS,CAACW,QAAQ,CAACpB,GAAD,CAAR,CAAgB,CAAjB,CAAT,CACAC,MAAM,CAACmB,QAAQ,CAACpB,GAAD,CAAR,CAAgB,CAAjB,CAAN,CACD,CACF,CATD,CAWA,GAAMqB,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,CAACH,CAAD,CAAO,CAClBA,CAAC,CAACC,cAAF,GACA,GAAKnB,GAAG,CAAG,CAAP,CAAY,IAAhB,CAAqB,CACnBS,SAAS,CAAC,CAAD,CAAT,CACAR,MAAM,CAAC,CAAD,CAAN,CACD,CAHD,IAGK,CACHQ,SAAS,CAACW,QAAQ,CAACpB,GAAD,CAAR,CAAgB,CAAjB,CAAT,CACAC,MAAM,CAACmB,QAAQ,CAACpB,GAAD,CAAR,CAAgB,CAAjB,CAAN,CACD,CACF,CATD,CAWA,GAAMR,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAAC0B,CAAD,CAAO,CACpBA,CAAC,CAACC,cAAF,GACAG,OAAO,CAACC,GAAR,CAAYrB,IAAI,CAACsB,IAAjB,EACA,GAAMC,CAAAA,MAAM,CAAGL,QAAQ,CAACf,QAAQ,CAACC,cAAT,CAAwB,QAAxB,EAAkCC,KAAnC,CAAvB,CACA,GAAImB,MAAM,CAACC,SAAP,CAAiBF,MAAjB,GAA4B,EAAIA,MAAhC,EAA0CA,MAAM,CAAG,IAAvD,CAA4D,CAC1DhB,SAAS,CAACgB,MAAD,CAAT,CACAxB,MAAM,CAACwB,MAAD,CAAN,CACD,CAHD,IAGK,CACHpB,QAAQ,CAACC,cAAT,CAAwB,QAAxB,EAAkCC,KAAlC,CAA0C,EAA1C,CACAF,QAAQ,CAACC,cAAT,CAAwB,QAAxB,EAAkCsB,WAAlC,CAAgD5B,GAAhD,CACA6B,KAAK,CAACJ,MAAM,CAAG,qCAAV,CAAL,CACD,CACF,CAZD,CAcA,GAAMK,CAAAA,SAAS,CAAG,QAAZA,CAAAA,SAAY,CAACZ,CAAD,CAAO,CACvBA,CAAC,CAACC,cAAF,GACA,GAAMM,CAAAA,MAAM,CAAGM,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,GAAgB,IAA3B,CAAf,CACAxB,SAAS,CAACgB,MAAD,CAAT,CACAxB,MAAM,CAACwB,MAAD,CAAN,CACD,CALD,CAOA,mBAAO,wCACL,cAAO,IAAI,CAAC,MAAZ,CAAmB,WAAW,CAAEzB,GAAhC,CAAqC,EAAE,CAAC,QAAxC,EADK,cAEL,cAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,QAA3B,CAAoC,OAAO,CAAER,MAA7C,CAAqD,EAAE,CAAC,QAAxD,EAFK,cAGL,cAAO,IAAI,CAAC,QAAZ,CAAqB,KAAK,CAAC,QAA3B,CAAoC,OAAO,CAAEsC,SAA7C,CAAwD,EAAE,CAAC,QAA3D,EAHK,CAIJ5B,IAAI,CAACsB,IAAL,cAAY,KAAC,IAAD,EAAM,IAAI,CAAEtB,IAAI,CAACsB,IAAjB,EAAZ,CAAqC,IAJjC,cAKL,aAAK,EAAE,CAAC,OAAR,wBACE,aAAM,EAAE,CAAC,UAAT,CAAoB,OAAO,CAAEP,QAA7B,EADF,cAEE,YAAK,GAAG,CAAEf,IAAI,CAACsB,IAAL,CAAYtB,IAAI,CAACsB,IAAL,CAAUU,GAAtB,CAA4B,EAAtC,CAA2C,GAAG,CAAC,OAA/C,CAAuD,EAAE,CAAC,UAA1D,EAFF,cAGE,aAAM,EAAE,CAAC,MAAT,CAAgB,OAAO,CAAEb,IAAzB,EAHF,GALK,cAUL,KAAC,UAAD,EAAY,UAAU,CAAEnB,IAAI,CAACsB,IAAL,CAAYtB,IAAI,CAACsB,IAAL,CAAUW,UAAtB,CAAmC,IAA3D,CAAiE,GAAG,CAAEjC,IAAI,CAACsB,IAAL,CAAYtB,IAAI,CAACsB,IAAL,CAAUY,GAAtB,CAA4B,IAAlG,EAVK,GAAP,CAYD,CAvED,CAyEA,GAAMC,CAAAA,IAAI,CAAG,QAAPA,CAAAA,IAAO,CAACtC,KAAD,CAAW,CACtB,GAAMyB,CAAAA,IAAI,CAAGzB,KAAK,CAACyB,IAAnB,CACA,GAAIc,CAAAA,IAAI,CAAG,GAAIC,CAAAA,IAAJ,CAAS,IAAT,CAAef,IAAI,CAACgB,KAAL,CAAa,CAA5B,CAA+B,EAA/B,CAAX,CACA,GAAIA,CAAAA,KAAK,CAAGF,IAAI,CAACG,cAAL,CAAoB,OAApB,CAA6B,CAAED,KAAK,CAAE,MAAT,CAA7B,CAAZ,CAEA,mBAAO,yBACJhB,IAAI,cACJ,wCAAE,aAAK,EAAE,CAAC,OAAR,gBAAmBA,IAAI,CAACd,GAAxB,MAA+Bc,IAAI,CAACkB,KAAL,EAAclB,IAAI,CAACmB,UAAlD,GAAF,cAAqE,aAAK,EAAE,CAAC,MAAR,uBAAyBH,KAAzB,KAAiChB,IAAI,CAACoB,GAAtC,MAA6CpB,IAAI,CAACqB,IAAlD,GAArE,GADI,CAEJ,IAHI,EAAP,CAKD,CAVD,CAYA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAAC/C,KAAD,CAAW,CAC5B,GAAMyB,CAAAA,IAAI,CAAGzB,KAAb,CACA,GAAMqC,CAAAA,GAAG,CAAGrC,KAAK,CAACqC,GAAlB,CACA,eAA4BnD,QAAQ,CAAC,KAAD,CAApC,yCAAO8D,MAAP,eAAeC,SAAf,eACA,GAAIb,CAAAA,UAAJ,CACAX,IAAI,CAACW,UAAL,CAAkBA,UAAU,CAAGX,IAAI,CAACW,UAAL,CAAgBc,KAAhB,CAAsB,IAAtB,CAA/B,CAA6Dd,UAAU,CAAG,EAA1E,CACA,GAAMe,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACvBF,SAAS,CAAC,CAACD,MAAF,CAAT,CACD,CAFD,CAIA,mBAAM,wCACJ,cAAO,SAAS,CAAC,0BAAjB,CAA4C,IAAI,CAAC,QAAjD,CAA0D,KAAK,CAAC,YAAhE,CAA6E,OAAO,CAAEG,UAAtF,EADI,CAEHH,MAAM,EAAIZ,UAAV,CACCA,UAAU,CAACgB,GAAX,CAAe,SAAAC,IAAI,CAAG,CACtB,mBAAO,UAAG,SAAS,CAAC,YAAb,UAA2BA,IAA3B,EAAP,CACD,CAFC,CADD,CAIC,IANE,CAOHL,MAAM,EAAIX,GAAV,EAAiB,CAAEiB,OAAO,CAAClB,UAAD,CAA1B,cAAyC,UAAG,SAAS,CAAC,YAAb,UAA2BC,GAA3B,EAAzC,CAA+E,IAP5E,GAAN,CASD,CAnBD,CAqBA,cAAehD,CAAAA,GAAf","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport './App.css';\nimport axios from 'axios';\n\nfunction App() {\n  const query = window.location.search;\n  const params = new URLSearchParams(query);\n  let number = 1;\n\n  if (params.has('n')){\n    number = params.get('n');\n  }else{\n    number = 1;\n  }\n  \n  return (\n    <>\n      <nav>\n       <p id=\"navTitle\">Comic Viewer</p>\n       <p id=\"navName\">By: Igor Goncalves Penedos</p>\n      </nav>\n      <div id=\"body\">\n        <Comic number={number}/>\n      </div>\n    </>\n  );\n}\n\nconst Comic = (props) => { \n  const [Num, setNum] = useState(props.number);\n  const [Data, setData] = useState('');\n  var newurl;\n\n  useEffect(() =>{\n    document.getElementById('number').value = '';\n    const getData = async () => {setData(await axios.get('http://localhost:4000/getData', {params:{Num}}))};\n    getData();\n  }, [Num]);\n\n  const setNewURL = (num) => {\n    newurl = window.location.protocol + \"//\" + window.location.host + window.location.pathname + '?n=' + num;\n    window.history.pushState({path:newurl},'',newurl);\n  }\n\n  const previous = (e) => {\n    e.preventDefault();\n    if ((Num - 1) < 1){\n      setNewURL(2475);\n      setNum(2475);\n    }else{\n      setNewURL(parseInt(Num) - 1);\n      setNum(parseInt(Num) - 1);\n    }\n  };\n\n  const next = (e) => {\n    e.preventDefault();\n    if ((Num + 1) > 2475){\n      setNewURL(1);\n      setNum(1);\n    }else{\n      setNewURL(parseInt(Num) + 1);\n      setNum(parseInt(Num) + 1);\n    }\n  }; \n\n  const search = (e) => {\n    e.preventDefault();\n    console.log(Data.data)\n    const newNum = parseInt(document.getElementById('number').value);\n    if (Number.isInteger(newNum) && 0 < newNum && newNum < 2476){\n      setNewURL(newNum);\n      setNum(newNum);\n    }else{\n      document.getElementById('number').value = '';\n      document.getElementById('number').placeholder = Num;\n      alert(newNum + ' is not a NUMBER between 1 and 2475');\n    }\n  }\n\n  const randomNum = (e) => {\n    e.preventDefault();\n    const newNum = Math.floor(Math.random() * 2476);\n    setNewURL(newNum);\n    setNum(newNum);\n  }\n\n  return <>\n    <input type=\"text\" placeholder={Num} id=\"number\"/>\n    <input type=\"button\" value=\"Search\" onClick={search} id=\"search\"/>\n    <input type=\"button\" value=\"Random\" onClick={randomNum} id=\"random\"/>\n    {Data.data ? <Info data={Data.data}/>:null}\n    <div id=\"comic\">\n      <span id=\"previous\" onClick={previous}></span>\n      <img src={Data.data ? Data.data.img : '' } alt=\"Comic\" id=\"comicImg\"/>\n      <span id=\"next\" onClick={next}></span>\n    </div>\n    <Transcript transcript={Data.data ? Data.data.transcript : null} alt={Data.data ? Data.data.alt : null}/>\n  </>\n}\n\nconst Info = (props) => {\n  const data = props.data;\n  let date = new Date(2020, data.month - 1, 21);\n  let month = date.toLocaleString('en-us', { month: 'long' });\n\n  return <>\n    {data \n    ?<><div id=\"title\"># {data.num}: {data.title || data.safe_title}</div><div id=\"date\">Created: {month} {data.day}, {data.year}</div></>\n    :null}\n  </>\n}\n\nconst Transcript = (props) => {\n  const data = props;\n  const alt = props.alt;\n  const [isOpen ,setIsOpen] = useState(false);\n  let transcript;\n  data.transcript ? transcript = data.transcript.split('\\n') : transcript = '';\n  const changeOpen = () => {\n    setIsOpen(!isOpen)\n  }\n\n  return<>\n    <input className=\"transcript btnTranscript\" type=\"button\" value=\"Transcript\" onClick={changeOpen}/>\n    {isOpen && transcript\n    ? transcript.map(temp =>{\n      return <p className=\"transcript\">{temp}</p>\n    })\n    : null}\n    {isOpen && alt && ! Boolean(transcript) ? <p className=\"transcript\">{alt}</p> : null}\n  </>\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}